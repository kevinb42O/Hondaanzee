/* ====================================
   MICRO-INTERACTIONS
   Mobile-optimized animations
   ==================================== */

/* Search Bar - Gentle Expand on Focus (desktop only) */
.search-container {
  transition: box-shadow 0.3s ease;
}

@media (hover: hover) and (pointer: fine) {
  .search-container:focus-within {
    transform: scale(1.02);
  }
}

/* Search Input - Placeholder Fade */
.search-input::placeholder {
  transition: opacity 0.3s ease;
}

.search-input:focus::placeholder {
  opacity: 0.4;
}

/* When typing, fade placeholder completely */
.search-input:not(:placeholder-shown)::placeholder {
  opacity: 0;
}

/* Button Hover Lift + Shadow (desktop only) */
.btn-lift {
  transition: transform 0.2s ease,
              box-shadow 0.2s ease,
              background-color 0.2s ease;
  will-change: transform;
}

@media (hover: hover) and (pointer: fine) {
  .btn-lift:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 25px -5px rgba(2, 132, 199, 0.4),
                0 4px 6px -2px rgba(2, 132, 199, 0.2);
  }
}

.btn-lift:active {
  transform: scale(0.97);
}

/* Popular Pills - Stagger Animation */
@keyframes pillFadeIn {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.popular-pill {
  opacity: 0;
  animation: pillFadeIn 0.4s ease forwards;
  will-change: opacity, transform;
}

.popular-pill:nth-child(1) { animation-delay: 0.5s; }
.popular-pill:nth-child(2) { animation-delay: 0.6s; }
.popular-pill:nth-child(3) { animation-delay: 0.7s; }
.popular-pill:nth-child(4) { animation-delay: 0.8s; }

/* Popular Pill Hover Effect (desktop only) */
.popular-pill {
  transition: transform 0.2s ease,
              background-color 0.2s ease;
}

@media (hover: hover) and (pointer: fine) {
  .popular-pill:hover {
    transform: translateY(-2px) scale(1.05);
    box-shadow: 0 8px 20px -4px rgba(0, 0, 0, 0.3);
  }
}

.popular-pill:active {
  transform: scale(0.95);
}

/* Clear Button Micro-interaction */
.clear-btn {
  transition: transform 0.2s ease, opacity 0.2s ease;
}

.clear-btn:hover {
  transform: rotate(90deg);
}

/* Search Icon Animation (desktop only) */
.search-icon {
  transition: transform 0.2s ease, color 0.2s ease;
}

@media (hover: hover) and (pointer: fine) {
  .search-container:focus-within .search-icon {
    transform: scale(1.1);
    color: #0284c7;
  }
}

/* City Cards - Enhanced Hover (desktop only) */
.city-card {
  transition: transform 0.3s ease,
              box-shadow 0.3s ease;
  will-change: transform;
  transform: translateZ(0);
  backface-visibility: hidden;
}

@media (hover: hover) and (pointer: fine) {
  .city-card:hover {
    box-shadow: 0 25px 50px -12px rgba(15, 23, 42, 0.25),
                0 0 0 1px rgba(255, 255, 255, 0.1);
  }
}

/* Staggered City Card Animation - Mobile optimized */
@keyframes cardSlideIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.city-card {
  opacity: 0;
  animation: cardSlideIn 0.4s ease forwards;
}

/* Limit animation delays on mobile for faster perceived load */
@media (max-width: 640px) {
  .city-card:nth-child(1) { animation-delay: 0.05s; }
  .city-card:nth-child(2) { animation-delay: 0.1s; }
  .city-card:nth-child(3) { animation-delay: 0.15s; }
  .city-card:nth-child(n+4) { animation-delay: 0.2s; }
}

@media (min-width: 641px) {
  .city-card:nth-child(1) { animation-delay: 0.1s; }
  .city-card:nth-child(2) { animation-delay: 0.15s; }
  .city-card:nth-child(3) { animation-delay: 0.2s; }
  .city-card:nth-child(4) { animation-delay: 0.25s; }
  .city-card:nth-child(5) { animation-delay: 0.3s; }
  .city-card:nth-child(6) { animation-delay: 0.35s; }
  .city-card:nth-child(n+7) { animation-delay: 0.4s; }
}

/* Popular Label Fade In */
@keyframes labelFade {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.popular-label {
  opacity: 0;
  animation: labelFade 0.3s ease forwards;
  animation-delay: 0.4s;
}

/* Smooth Focus Ring */
.focus-ring {
  transition: box-shadow 0.2s ease, border-color 0.2s ease;
}

.focus-ring:focus-within {
  box-shadow: 0 0 0 8px rgba(56, 189, 248, 0.15);
}

/* Clear Button Micro-interaction */
.clear-btn {
  transition: transform 0.2s ease, opacity 0.2s ease;
}

@media (hover: hover) {
  .clear-btn:hover {
    transform: rotate(90deg);
  }
}
